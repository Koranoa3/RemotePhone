<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app-container">
    <div class="sidebar">
        <div class="app-header">
            <div class="app-title">RemotePhone</div>
            <div class="app-subtitle">è¨­å®š</div>
        </div>
        <nav class="nav-menu">
            <button class="nav-item active" data-section="home">ğŸ  ãƒ›ãƒ¼ãƒ </button>
            <button class="nav-item" data-section="connect">ğŸ“² ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã™ã‚‹</button>
            <button class="nav-item" data-section="customize">ğŸ› ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</button>
            <button class="nav-item" data-section="settings">âš™ï¸ è¨­å®š</button>
            <button class="nav-item" data-section="release">ğŸ“ ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ</button>
        </nav>
    </div>

    <main class="main-content">
        <!-- ãƒ›ãƒ¼ãƒ  -->
        <section class="content-section active" id="home">
            <h1 class="section-title">ğŸ  ãƒ›ãƒ¼ãƒ </h1>
            
            <div class="home-grid">
                <!-- ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šçŠ¶æ…‹ -->
                <div class="card main-device-status">
                    <h3 class="card-title">ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šçŠ¶æ…‹</h3>
                    <div id="device-connection-status">
                        <!-- æœªæ¥ç¶šçŠ¶æ…‹ -->
                        <div class="connection-status disconnected" id="disconnected-state">
                            <div class="status-text inactive">æ¥ç¶šã•ã‚Œã¦ã„ã¾ã›ã‚“</div>
                            <div class="connect-action">
                                <button class="btn btn-primary connect-btn" onclick="showConnectSection()">ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã™ã‚‹</button>
                            </div>
                        </div>
                        
                        <!-- æ¥ç¶šä¸­çŠ¶æ…‹ -->
                        <div class="connection-status connected" id="connected-state" style="display: none;">
                            <div class="status-text active">æ¥ç¶šä¸­</div>
                            <div class="device-info">
                                <div class="device-name">iPhone 15 Pro</div>
                                <div class="rtt-status">
                                    <span class="rtt-label">RTT:</span>
                                    <span class="rtt-value stable">å®‰å®š</span>
                                </div>
                                <div class="connection-time">æ¥ç¶šæ™‚é–“: 00:15:32</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šçŠ¶æ³ -->
                <div class="card server-status">
                    <h3 class="card-title">ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šçŠ¶æ³</h3>
                    <div class="server-info">
                        <div class="status-indicator">
                            <span class="status-dot status-normal"></span>
                            <span class="status-text">æ­£å¸¸</span>
                        </div>
                        <p class="server-note">
                            Wi-Fiã®åˆ‡ã‚Šæ›¿ãˆãªã©ã«ã‚ˆã‚Šã€ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã—ãªã„å¯èƒ½æ€§ãŒã”ã–ã„ã¾ã™ã€‚ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã—ãªã„å ´åˆã¯å†èµ·å‹•ã—ã¦ãã ã•ã„ã€‚
                        </p>
                    </div>
                </div>

                <!-- æ¥ç¶šæ–¹æ³• -->
                <div class="card connection-method">
                    <h3 class="card-title">æ¥ç¶šæ–¹æ³•</h3>
                    <div class="method-options">
                        <div class="method-option selected">
                            <div class="method-name">WebSocket</div>
                            <div class="method-description">Wi-Fiã‚’ä½¿ç”¨ã—ãŸé«˜é€Ÿãªæ‰‹æ®µ</div>
                        </div>
                        <div class="method-option disabled">
                            <div class="method-name">Bluetooth</div>
                            <div class="method-description">æœ€çŸ­è·é›¢ã§æœ€é€Ÿã€ã‹ã¤å®‰å…¨</div>
                        </div>
                        <div class="method-option">
                            <div class="method-name">WebRTC</div>
                            <div class="method-description">å®‰å…¨ã§ã€é ãé›¢ã‚Œã¦ã‚‚åˆ©ç”¨å¯èƒ½</div>
                        </div>
                    </div>
                </div>

                <!-- ç©ºã®ã‚¹ãƒšãƒ¼ã‚¹ -->
                <div class="card empty-space">
                    <!-- å°†æ¥ã®æ©Ÿèƒ½ç”¨ -->
                </div>
            </div>
        </section>

        <!-- ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã™ã‚‹ -->
        <section class="content-section" id="connect">
            <h1 class="section-title">ğŸ“² ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã™ã‚‹</h1>

            <div class="card">
                <h3 class="card-title">ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ã‚­ãƒ¼</h3>
                <div class="passkey-section">
                    <div class="large-passkey" id="large-passkey">0000</div>
                    <div class="passkey-timer-large">
                        <div class="timer-bar-large">
                            <div class="timer-progress-large" id="timer-progress-large"></div>
                        </div>
                        <div class="timer-text-large" id="timer-text-large">æ®‹ã‚Š 30ç§’</div>
                    </div>
                    <p class="browser-warning">
                        å¿…ãšChromeã‚ã‚‹ã„ã¯Edgeã§æ¥ç¶šã—ã¦ãã ã•ã„ã€‚Safariç­‰ã«ã¯å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“
                    </p>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">æ¥ç¶šæ‰‹é †</h3>
                <div class="connection-steps-container">
                    <div class="steps-content">
                        <ol class="connection-steps">
                            <li>QRã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹</li>
                            <li>ç”»é¢ã‹ã‚‰PCã‚’é¸æŠ</li>
                            <li>ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ã‚­ãƒ¼ã‚’å…¥åŠ›</li>
                        </ol>
                    </div>
                    <div class="steps-qr">
                        <div class="qr-code">
                            <div class="qr-placeholder">QRã‚³ãƒ¼ãƒ‰</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">æ¥ç¶šæ¸ˆã¿ã®ãƒ‡ãƒã‚¤ã‚¹</h3>
                <div class="device-list">
                    <div class="device-item">
                        <div class="device-info">
                            <div class="device-name">iPhone 15 Pro</div>
                            <div class="device-status">æ¥ç¶šä¸­</div>
                        </div>
                        <button class="btn btn-danger btn-small">ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’å‰Šé™¤ã™ã‚‹</button>
                    </div>
                    <div class="device-item">
                        <div class="device-info">
                            <div class="device-name">iPad Air</div>
                            <div class="device-status">3æ—¥å‰ã«æ¥ç¶š</div>
                        </div>
                        <button class="btn btn-danger btn-small">ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’å‰Šé™¤ã™ã‚‹</button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">æ³¨æ„</h3>
                <ul class="notice-list">
                    <li>
                        Chromeãƒ»Edgeã®ã¿å¯¾å¿œã§ã™
                    </li>
                    <li>Wi-Fiã®æ¥ç¶šå…ˆã¯åŒã˜ã«ã—ã¦ãã ã•ã„</li>
                    <li>ãƒ‡ãƒã‚¤ã‚¹ä¸Šã§ã¯ã‚¿ãƒƒãƒã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã®ã¿æœ‰åŠ¹ã§ã™</li>
                </ul>
            </div>
        </section>

        <!-- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º -->
        <section class="content-section" id="customize">
            <h1 class="section-title">ğŸ› ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</h1>
            
            <div class="card">
                <div class="coming-soon">
                    <h3>å¾Œæ—¥å®Ÿè£…äºˆå®š</h3>
                    <p>ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã¯ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§è¿½åŠ ã•ã‚Œã‚‹äºˆå®šã§ã™ã€‚</p>
                </div>
            </div>
        </section>

        <!-- è¨­å®š -->
        <section class="content-section" id="settings">
            <h1 class="section-title">âš™ï¸ è¨­å®š</h1>

            <div class="card">
                <h3 class="card-title">ã‚·ã‚¹ãƒ†ãƒ </h3>
                <div class="form-group">
                    <label class="form-label">
                        Windowsã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ™‚ã«èµ·å‹•ã™ã‚‹
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </label>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        èµ·å‹•æ™‚ã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’è¡¨ç¤ºã™ã‚‹
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </label>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</h3>
                <div class="form-group">
                    <label class="form-label">
                        è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’æœ‰åŠ¹ã«ã™ã‚‹
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </label>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        ç•°å¸¸æ™‚ã«è‡ªå‹•ã§å†èµ·å‹•ã™ã‚‹
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </label>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">é€šçŸ¥</h3>
                <div class="form-group">
                    <label class="form-label">
                        ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—é€šçŸ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹
                        <label class="toggle-switch">
                            <input type="checkbox" id="notification-master" checked>
                            <span class="slider"></span>
                        </label>
                    </label>
                </div>
                <div class="notification-sub-settings" id="notification-sub-settings">
                    <div class="form-group sub-setting">
                        <label class="form-label">
                            èªè¨¼è¦æ±‚æ™‚
                            <label class="toggle-switch">
                                <input type="checkbox" class="notification-sub" checked>
                                <span class="slider"></span>
                            </label>
                        </label>
                    </div>
                    <div class="form-group sub-setting">
                        <label class="form-label">
                            ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šæ™‚
                            <label class="toggle-switch">
                                <input type="checkbox" class="notification-sub" checked>
                                <span class="slider"></span>
                            </label>
                        </label>
                    </div>
                    <div class="form-group sub-setting">
                        <label class="form-label">
                            ãƒ‡ãƒã‚¤ã‚¹åˆ‡æ–­æ™‚
                            <label class="toggle-switch">
                                <input type="checkbox" class="notification-sub">
                                <span class="slider"></span>
                            </label>
                        </label>
                    </div>
                </div>
            </div>
        </section>

        <!-- ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ -->
        <section class="content-section" id="release">
            <h1 class="section-title">ğŸ“ ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ</h1>

            <div class="card">
                <h3 class="card-title">ç¾åœ¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³</h3>
                <div class="current-version">v2.1.0</div>
            </div>

            <div class="card">
                <h3 class="card-title">æœ€æ–°ã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ</h3>
                <div class="release-item">
                    <div class="release-header">
                        <span class="release-version">v2.1.0</span>
                        <span class="release-date">2024-01-15</span>
                    </div>
                    <div class="release-content">
                        <h4>æ–°æ©Ÿèƒ½</h4>
                        <ul>
                            <li>ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ã‚­ãƒ¼èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®è¿½åŠ </li>
                            <li>ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šçŠ¶æ…‹ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º</li>
                            <li>RTTï¼ˆå¿œç­”æ™‚é–“ï¼‰ç›£è¦–æ©Ÿèƒ½</li>
                        </ul>
                        <h4>æ”¹å–„</h4>
                        <ul>
                            <li>æ¥ç¶šã®å®‰å®šæ€§å‘ä¸Š</li>
                            <li>UI/UXã®æ”¹å–„</li>
                        </ul>
                        <h4>ä¿®æ­£</h4>
                        <ul>
                            <li>Wi-Fiåˆ‡ã‚Šæ›¿ãˆæ™‚ã®æ¥ç¶šå•é¡Œã‚’ä¿®æ­£</li>
                            <li>ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®å•é¡Œã‚’è§£æ±º</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title">æ›´æ–°è¨­å®š</h3>
                <p class="update-status">
                    è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯<strong>æœ‰åŠ¹</strong>ã«ãªã£ã¦ã„ã¾ã™
                    <a href="#" onclick="showSettingsSection()" class="settings-link">è¨­å®šã‚’å¤‰æ›´</a>
                </p>
                <a href="https://github.com/KoralMint/RemotePhone/releases" target="_blank" class="btn btn-secondary">
                    GitHub Releasesãƒšãƒ¼ã‚¸ã‚’é–‹ã
                </a>
            </div>
        </section>
    </main>
</div>

    <script>

    const SERVER_URL = "http://skyboxx.tplinkdns.com:3000";

    document.addEventListener('DOMContentLoaded', function() {
    let passkeyTimer = 30;
    let timerInterval;

    // ãƒ‘ã‚¹ã‚­ãƒ¼ç”Ÿæˆ
    function generatePasskey() {
        return Math.floor(Math.random() * 10000).toString().padStart(4, '0');
    }

    // ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹
    function startPasskeyTimer() {
        const passkeyElement = document.getElementById('passkey');
        const largePasskeyElement = document.getElementById('large-passkey');
        const timerProgressElement = document.getElementById('timer-progress');
        const timerProgressLargeElement = document.getElementById('timer-progress-large');
        const timerTextElement = document.getElementById('timer-text');
        const timerTextLargeElement = document.getElementById('timer-text-large');

        function updateTimer() {
            const progress = (passkeyTimer / 30) * 100;
            
            if (timerProgressElement) timerProgressElement.style.width = progress + '%';
            if (timerProgressLargeElement) timerProgressLargeElement.style.width = progress + '%';
            if (timerTextElement) timerTextElement.textContent = passkeyTimer + 'ç§’';
            if (timerTextLargeElement) timerTextLargeElement.textContent = 'æ®‹ã‚Š ' + passkeyTimer + 'ç§’';

            if (passkeyTimer <= 0) {
                // æ–°ã—ã„ãƒ‘ã‚¹ã‚­ãƒ¼ã‚’ç”Ÿæˆ
                const newPasskey = generatePasskey();
                if (passkeyElement) passkeyElement.textContent = newPasskey;
                if (largePasskeyElement) largePasskeyElement.textContent = newPasskey;
                passkeyTimer = 30;
            } else {
                passkeyTimer--;
            }
        }

        // åˆæœŸãƒ‘ã‚¹ã‚­ãƒ¼è¨­å®š
        const initialPasskey = generatePasskey();
        if (passkeyElement) passkeyElement.textContent = initialPasskey;
        if (largePasskeyElement) largePasskeyElement.textContent = initialPasskey;

        // ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹
        timerInterval = setInterval(updateTimer, 1000);
        updateTimer(); // å³åº§ã«å®Ÿè¡Œ
    }

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
    const navItems = document.querySelectorAll('.nav-item');
    const contentSections = document.querySelectorAll('.content-section');
    
    navItems.forEach(item => {
        item.addEventListener('click', function() {
            const targetSection = this.getAttribute('data-section');

            // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã‚’æ›´æ–°
            navItems.forEach(nav => nav.classList.remove('active'));
            this.classList.add('active');

            // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°
            contentSections.forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(targetSection).classList.add('active');
        });
    });

    // ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šçŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
    function toggleConnectionStatus() {
        const disconnectedState = document.getElementById('disconnected-state');
        const connectedState = document.getElementById('connected-state');
        
        if (disconnectedState.style.display !== 'none') {
            disconnectedState.style.display = 'none';
            connectedState.style.display = 'block';
        } else {
            disconnectedState.style.display = 'block';
            connectedState.style.display = 'none';
        }
    }

    // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°
    window.showConnectSection = function() {
        // ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ç§»å‹•
        navItems.forEach(nav => nav.classList.remove('active'));
        document.querySelector('[data-section="connect"]').classList.add('active');
        
        contentSections.forEach(section => section.classList.remove('active'));
        document.getElementById('connect').classList.add('active');
    };

    window.showSettingsSection = function() {
        // è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ç§»å‹•
        navItems.forEach(nav => nav.classList.remove('active'));
        document.querySelector('[data-section="settings"]').classList.add('active');
        
        contentSections.forEach(section => section.classList.remove('active'));
        document.getElementById('settings').classList.add('active');
    };

    // ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒã®å‹•ä½œ
    const toggleSwitches = document.querySelectorAll('.toggle-switch input');
    toggleSwitches.forEach(toggle => {
        toggle.addEventListener('change', function() {
            console.log(`è¨­å®šãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸ: ${this.checked ? 'ON' : 'OFF'}`);
        });
    });

    // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.addEventListener('click', function(e) {
            if (this.textContent.includes('ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¥ç¶šã™ã‚‹')) {
                return; // showConnectSection ãŒå‡¦ç†
            }
            if (this.textContent.includes('è¨­å®šã‚’å¤‰æ›´')) {
                return; // showSettingsSection ãŒå‡¦ç†
            }
            if (this.textContent.includes('å†èµ·å‹•ã™ã‚‹')) {
                alert('ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã—ã¦ã„ã¾ã™...');
                return;
            }
            if (this.textContent.includes('å‰Šé™¤ã™ã‚‹')) {
                if (confirm('ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                    this.closest('.device-item').remove();
                }
                return;
            }
            console.log(`ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ: ${this.textContent}`);
        });
    });

    // ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆå–å¾—
    const releaseNote = document.querySelector('.release-item .release-content');
    fetch('https://api.github.com/repos/your-repo/releases/latest')

    // ãƒ‘ã‚¹ã‚­ãƒ¼ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹
    startPasskeyTimer();

    // ãƒ‡ãƒ¢ç”¨ï¼š5ç§’å¾Œã«æ¥ç¶šçŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆ
    setTimeout(toggleConnectionStatus, 5000);
});
    </script>
</body>
</html>